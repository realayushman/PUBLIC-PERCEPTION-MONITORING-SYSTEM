schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 76102fa898f09ca7b64d8a4446a2a3c8
      size: 4261
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: 24f4057252ca05deb6ff5749745d198f.dir
      size: 6874656
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 0c2ae57a000661036aff9aa7ade7987c
      size: 1339581
    - path: data/raw/train.csv
      hash: md5
      md5: 2aa7c9c07f8edf4ad1e4ad2181b52d31
      size: 5535075
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 5598c70ff650ff17a257ba2bcd627dec
      size: 8822
    outs:
    - path: data/interim
      hash: md5
      md5: c2d3c843951f9a4348a198aaa9ae142e.dir
      size: 5095677
      nfiles: 2
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 6a587007eaf8b35902706e5b79b5c705
      size: 4102988
    - path: src/model/model_building.py
      hash: md5
      md5: dcce6debe2436b0f3a4983074905d9fc
      size: 6498
    params:
      params.yaml:
        model_building.bagging_fraction: 0.9879160686934951
        model_building.bagging_freq: 7
        model_building.feature_fraction: 0.8759899226632444
        model_building.lambda_l1: 0.24447042100329508
        model_building.lambda_l2: 3.4386754411301483
        model_building.learning_rate: 0.18768717130505222
        model_building.max_depth: 7
        model_building.max_features: 3000
        model_building.min_data_in_leaf: 25
        model_building.min_gain_to_split: 0.9610860157784141
        model_building.n_estimators: 367
        model_building.ngram_range:
        - 1
        - 3
        model_building.num_leaves: 148
    outs:
    - path: lgbm_model.pkl
      hash: md5
      md5: 3b27fdf2d4c59119d2135bdbeb890794
      size: 1453493
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 1656a5c17e59b66b227c06834eb8ad90
      size: 112002
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 7646e403fa81ec1e94ce748883d016ae
      size: 992689
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 6a587007eaf8b35902706e5b79b5c705
      size: 4102988
    - path: lgbm_model.pkl
      hash: md5
      md5: 3b27fdf2d4c59119d2135bdbeb890794
      size: 1453493
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 8709b3e182a1018a7bdd5ffcd30603d4
      size: 7086
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 1656a5c17e59b66b227c06834eb8ad90
      size: 112002
    outs:
    - path: experiment_info.json
      hash: md5
      md5: 582c60774d9925821b094b814fd969dc
      size: 84
  model_registration:
    cmd: python src/model/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: 582c60774d9925821b094b814fd969dc
      size: 84
    - path: src/model/register_model.py
      hash: md5
      md5: 3570298015d9071fb67dab560955608f
      size: 2364
